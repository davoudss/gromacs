<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: tMPI_Atomic Struct Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">tMPI_Atomic Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="tMPI_Atomic" -->
<p><code>#include &lt;<a class="el" href="include_2thread__mpi_2atomic_2gcc_8h_source.html">gcc.h</a>&gt;</code></p>

<p><a href="structtMPI__Atomic-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a74e263d7499907bc4a25b84af60c63cc">__attribute__</a> ((aligned(64)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a74e263d7499907bc4a25b84af60c63cc">__attribute__</a> ((aligned(64)))</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a0bc95c8497ce76b08ed964d06fe5142d">padding</a> [<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2gcc__x86_8h.html#aecf8996b3f8284831e7b2b0dca7e681d">TMPI_SIZEOF_X86_CACHE_LINE</a>-sizeof(int)]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LONG volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a0d0d30f68431ff5be90b7913cca5c662">value</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile uint_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtMPI__Atomic.html#a98e7b83d2063a810b3fa8eb7c848e915">value</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Atomic operations datatype</p>
<p>Portable synchronization primitives like mutexes are effective for many purposes, but usually not very high performance. One of the problem is that you have the overhead of a function call, and another is that Mutexes often have extra overhead to make the scheduling fair. Finally, if performance is important we don't want to suspend the thread if we cannot lock a mutex, but spin-lock at 100% CPU usage until the resources is available (e.g. increment a counter).</p>
<p>These things can often be implemented with inline-assembly or other system-dependent functions, and we provide such functionality for the most common platforms. For portability we also have a fallback implementation using a mutex for locking.</p>
<p>Performance-wise, the fastest solution is always to avoid locking completely (obvious, but remember it!). If you cannot do that, the next best thing is to use atomic operations that e.g. increment a counter without explicit locking. Spinlocks are useful to lock an entire region, but leads to more overhead and can be difficult to debug - it is up to you to make sure that only the thread owning the lock unlocks it!</p>
<p>You should normally NOT use atomic operations for things like I/O threads. These should yield to other threads while waiting for the disk instead of spinning at 100% CPU usage.</p>
<p>It is imperative that you use the provided routines for reading and writing, since some implementations require memory barriers before the CPU or memory sees an updated result. The structure contents is only visible here so it can be inlined for performance - it might change without further notice.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>No initialization is required for atomic variables.</dd></dl>
<p>Currently, we have (real) atomic operations for:</p>
<ul>
<li>gcc version 4.1 and later (all platforms)</li>
<li>x86 or x86_64, using GNU compilers</li>
<li>x86 or x86_64, using Intel compilers</li>
<li>x86 or x86_64, using Pathscale compilers</li>
<li>Itanium, using GNU compilers</li>
<li>Itanium, using Intel compilers</li>
<li>Itanium, using HP compilers</li>
<li>PowerPC, using GNU compilers</li>
<li>PowerPC, using IBM AIX compilers</li>
<li>PowerPC, using IBM compilers &gt;=7.0 under Linux or Mac OS X.</li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><ul>
<li><a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h.html#ad046655ee56cc30c2a8719f3d1091b8e">tMPI_Atomic_get</a></li>
<li><a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h.html#a656620d5b78214f23f4b7214ff7a6f94">tMPI_Atomic_set</a></li>
<li><a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h.html#a1ee85ed30df14b0ceec8a545aef21949">tMPI_Atomic_cas</a></li>
<li><a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h.html#aca56ce0d6bb80e99248d9372f2caf0f9">tMPI_Atomic_add_return</a></li>
<li><a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h.html#acaa08636b69ebeb6b4db98dc98a43a05">tMPI_Atomic_fetch_add</a> </li>
</ul>
</dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a74e263d7499907bc4a25b84af60c63cc"></a><!-- doxytag: member="tMPI_Atomic::__attribute__" ref="a74e263d7499907bc4a25b84af60c63cc" args="((aligned(64)))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a> <a class="el" href="structtMPI__Atomic.html#a74e263d7499907bc4a25b84af60c63cc">tMPI_Atomic::__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(aligned(64))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a74e263d7499907bc4a25b84af60c63cc"></a><!-- doxytag: member="tMPI_Atomic::__attribute__" ref="a74e263d7499907bc4a25b84af60c63cc" args="((aligned(64)))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">value</a> <a class="el" href="structtMPI__Atomic.html#a74e263d7499907bc4a25b84af60c63cc">tMPI_Atomic::__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(aligned(64))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0bc95c8497ce76b08ed964d06fe5142d"></a><!-- doxytag: member="tMPI_Atomic::padding" ref="a0bc95c8497ce76b08ed964d06fe5142d" args="[TMPI_SIZEOF_X86_CACHE_LINE&#45;sizeof(int)]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structtMPI__Atomic.html#a0bc95c8497ce76b08ed964d06fe5142d">tMPI_Atomic::padding</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a251089827c7a504b91e5a0f390c2c5e6"></a><!-- doxytag: member="tMPI_Atomic::value" ref="a251089827c7a504b91e5a0f390c2c5e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">tMPI_Atomic::value</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Volatile, to avoid compiler aliasing</p>
<p>The atomic value. </p>

</div>
</div>
<a class="anchor" id="a98e7b83d2063a810b3fa8eb7c848e915"></a><!-- doxytag: member="tMPI_Atomic::value" ref="a98e7b83d2063a810b3fa8eb7c848e915" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint_t <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">tMPI_Atomic::value</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0d0d30f68431ff5be90b7913cca5c662"></a><!-- doxytag: member="tMPI_Atomic::value" ref="a0d0d30f68431ff5be90b7913cca5c662" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LONG volatile <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">tMPI_Atomic::value</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Volatile, to avoid compiler aliasing </p>

</div>
</div>
<a class="anchor" id="a251089827c7a504b91e5a0f390c2c5e6"></a><!-- doxytag: member="tMPI_Atomic::value" ref="a251089827c7a504b91e5a0f390c2c5e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structtMPI__Atomic.html#a251089827c7a504b91e5a0f390c2c5e6">tMPI_Atomic::value</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The atomic value. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2gcc_8h_source.html">gcc.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2gcc__ia64_8h_source.html">gcc_ia64.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2gcc__ppc_8h_source.html">gcc_ppc.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2gcc__x86_8h_source.html">gcc_x86.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2msvc_8h_source.html">msvc.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2suncc-sparc_8h_source.html">suncc-sparc.h</a></li>
<li>include/thread_mpi/<a class="el" href="include_2thread__mpi_2atomic_8h_source.html">atomic.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2gcc_8h_source.html">gcc.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2gcc__ia64_8h_source.html">gcc_ia64.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2gcc__ppc_8h_source.html">gcc_ppc.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2gcc__x86_8h_source.html">gcc_x86.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2msvc_8h_source.html">msvc.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2suncc-sparc_8h_source.html">suncc-sparc.h</a></li>
<li>share/template/gromacs/thread_mpi/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_8h_source.html">atomic.h</a></li>
<li>include/thread_mpi/atomic/<a class="el" href="include_2thread__mpi_2atomic_2xlc__ppc_8h_source.html">xlc_ppc.h</a></li>
<li>share/template/gromacs/thread_mpi/atomic/<a class="el" href="share_2template_2gromacs_2thread__mpi_2atomic_2xlc__ppc_8h_source.html">xlc_ppc.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 20 2014 17:22:46 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
