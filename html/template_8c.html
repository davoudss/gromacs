<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: share/template/template.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">share/template/template.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Template code for writing analysis programs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="share_2template_2gromacs_2copyrite_8h_source.html">gromacs/copyrite.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2filenm_8h_source.html">gromacs/filenm.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2macros_8h_source.html">gromacs/macros.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2pbc_8h_source.html">gromacs/pbc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2smalloc_8h_source.html">gromacs/smalloc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2statutil_8h_source.html">gromacs/statutil.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2xvgr_8h_source.html">gromacs/xvgr.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2gmx__fatal_8h_source.html">gromacs/gmx_fatal.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2nbsearch_8h_source.html">gromacs/nbsearch.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="share_2template_2gromacs_2trajana_8h_source.html">gromacs/trajana.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for template.c:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c__incl.png" border="0" usemap="#share_2template_2template_8c" alt=""/></div>
<map name="share_2template_2template_8c" id="share_2template_2template_8c">
<area shape="rect" id="node3" href="share_2template_2gromacs_2copyrite_8h.html" title="gromacs/copyrite.h" alt="" coords="2636,315,2769,344"/><area shape="rect" id="node13" href="share_2template_2gromacs_2filenm_8h.html" title="gromacs/filenm.h" alt="" coords="2232,160,2355,189"/><area shape="rect" id="node92" href="share_2template_2gromacs_2macros_8h.html" title="gromacs/macros.h" alt="" coords="1303,83,1433,112"/><area shape="rect" id="node95" href="share_2template_2gromacs_2pbc_8h.html" title="gromacs/pbc.h" alt="" coords="1112,237,1219,267"/><area shape="rect" id="node101" href="share_2template_2gromacs_2smalloc_8h.html" title="gromacs/smalloc.h" alt="" coords="2961,315,3092,344"/><area shape="rect" id="node105" href="share_2template_2gromacs_2statutil_8h.html" title="gromacs/statutil.h" alt="" coords="1995,83,2120,112"/><area shape="rect" id="node134" href="share_2template_2gromacs_2xvgr_8h.html" title="gromacs/xvgr.h" alt="" coords="1439,160,1551,189"/><area shape="rect" id="node143" href="share_2template_2gromacs_2gmx__fatal_8h.html" title="gromacs/gmx_fatal.h" alt="" coords="2793,315,2937,344"/><area shape="rect" id="node151" href="share_2template_2gromacs_2nbsearch_8h.html" title="API for neighborhood searching." alt="" coords="1575,160,1713,189"/><area shape="rect" id="node158" href="share_2template_2gromacs_2trajana_8h.html" title="Main API of the trajectory analysis library." alt="" coords="2380,83,2505,112"/><area shape="rect" id="node5" href="share_2template_2gromacs_2visibility_8h.html" title="visibility.h" alt="" coords="2393,392,2473,421"/><area shape="rect" id="node9" href="share_2template_2gromacs_2types_2simple_8h.html" title="types/simple.h" alt="" coords="1739,624,1845,653"/><area shape="rect" id="node16" href="share_2template_2gromacs_2futil_8h.html" title="futil.h" alt="" coords="1825,237,1879,267"/><area shape="rect" id="node20" href="share_2template_2gromacs_2typedefs_8h.html" title="typedefs.h" alt="" coords="1467,315,1549,344"/><area shape="rect" id="node32" href="share_2template_2gromacs_2gmx__header__config_8h.html" title="gmx_header_config.h" alt="" coords="2115,547,2261,576"/><area shape="rect" id="node88" href="share_2template_2gromacs_2types_2commrec_8h.html" title="types/commrec.h" alt="" coords="487,315,609,344"/><area shape="rect" id="node25" href="share_2template_2gromacs_2sysstuff_8h.html" title="sysstuff.h" alt="" coords="2133,469,2213,499"/><area shape="rect" id="node36" href="share_2template_2gromacs_2types_2enums_8h.html" title="types/enums.h" alt="" coords="943,392,1049,421"/><area shape="rect" id="node38" href="share_2template_2gromacs_2types_2block_8h.html" title="types/block.h" alt="" coords="611,469,709,499"/><area shape="rect" id="node40" href="share_2template_2gromacs_2types_2idef_8h.html" title="idef.h" alt="" coords="503,547,556,576"/><area shape="rect" id="node43" href="share_2template_2gromacs_2types_2symtab_8h.html" title="types/symtab.h" alt="" coords="835,469,947,499"/><area shape="rect" id="node46" href="share_2template_2gromacs_2types_2atoms_8h.html" title="types/atoms.h" alt="" coords="971,469,1075,499"/><area shape="rect" id="node49" href="share_2template_2gromacs_2types_2trx_8h.html" title="types/trx.h" alt="" coords="836,392,919,421"/><area shape="rect" id="node52" href="share_2template_2gromacs_2types_2topology_8h.html" title="types/topology.h" alt="" coords="492,392,609,421"/><area shape="rect" id="node59" href="share_2template_2gromacs_2types_2energy_8h.html" title="types/energy.h" alt="" coords="1848,547,1955,576"/><area shape="rect" id="node62" href="share_2template_2gromacs_2types_2inputrec_8h.html" title="types/inputrec.h" alt="" coords="1735,392,1849,421"/><area shape="rect" id="node66" href="share_2template_2gromacs_2types_2ishift_8h.html" title="types/ishift.h" alt="" coords="1073,392,1169,421"/><area shape="rect" id="node68" href="share_2template_2gromacs_2types_2graph_8h.html" title="types/graph.h" alt="" coords="347,469,448,499"/><area shape="rect" id="node71" href="share_2template_2gromacs_2types_2nrnb_8h.html" title="types/nrnb.h" alt="" coords="1193,392,1287,421"/><area shape="rect" id="node73" href="share_2template_2gromacs_2types_2nblist_8h.html" title="types/nblist.h" alt="" coords="1311,392,1409,421"/><area shape="rect" id="node75" href="share_2template_2gromacs_2types_2nbnxn__pairlist_8h.html" title="types/nbnxn_pairlist.h" alt="" coords="1433,392,1583,421"/><area shape="rect" id="node77" href="share_2template_2gromacs_2types_2nsgrid_8h.html" title="types/nsgrid.h" alt="" coords="2005,469,2109,499"/><area shape="rect" id="node80" href="share_2template_2gromacs_2types_2forcerec_8h.html" title="types/forcerec.h" alt="" coords="472,469,587,499"/><area shape="rect" id="node83" href="share_2template_2gromacs_2types_2fcdata_8h.html" title="types/fcdata.h" alt="" coords="1607,392,1711,421"/><area shape="rect" id="node85" href="share_2template_2gromacs_2types_2mdatom_8h.html" title="types/mdatom.h" alt="" coords="5,547,120,576"/><area shape="rect" id="node111" href="share_2template_2gromacs_2readinp_8h.html" title="readinp.h" alt="" coords="2195,237,2269,267"/><area shape="rect" id="node115" href="share_2template_2gromacs_2wman_8h.html" title="wman.h" alt="" coords="1989,160,2056,189"/><area shape="rect" id="node118" href="share_2template_2gromacs_2pdbio_8h.html" title="pdbio.h" alt="" coords="1953,237,2017,267"/><area shape="rect" id="node123" href="share_2template_2gromacs_2oenv_8h.html" title="oenv.h" alt="" coords="2293,237,2355,267"/><area shape="rect" id="node127" href="share_2template_2gromacs_2gmxfio_8h.html" title="gmxfio.h" alt="" coords="1828,160,1900,189"/><area shape="rect" id="node139" href="share_2template_2gromacs_2viewit_8h.html" title="viewit.h" alt="" coords="1633,237,1700,267"/><area shape="rect" id="node154" href="share_2template_2gromacs_2indexutil_8h.html" title="API for handling index files and index groups." alt="" coords="2532,237,2612,267"/><area shape="rect" id="node165" href="share_2template_2gromacs_2selection_8h.html" title="API for handling selection (the gmx_ana_selection_t structure and related functions)." alt="" coords="2531,160,2616,189"/></map>
</div>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__analysisdata.html">t_analysisdata</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Template analysis data structure.  <a href="structt__analysisdata.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="template_8c.html#a8485f4e81de2537e6a0935626167a775">NFILE</a>&#160;&#160;&#160;<a class="el" href="share_2template_2gromacs_2macros_8h.html#a0883345a58f8f63aefa249a4f127f707">asize</a>(fnm)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166">analyze_frame</a> (<a class="el" href="structt__topology.html">t_topology</a> *<a class="el" href="gmx__disre_8c.html#a1b538a2ce75aba6c346bc03980ffeb28">top</a>, <a class="el" href="include_2types_2trx_8h.html#a206f77137d72a5db1097a457a7144ad5">t_trxframe</a> *<a class="el" href="addconf_8c.html#ae8414314f87c5e49503ac0117eb511ad">fr</a>, <a class="el" href="structt__pbc.html">t_pbc</a> *pbc, int <a class="el" href="share_2template_2gromacs_2gmx__lapack_8h.html#a560e4062098f77c2d7e5fe83bf09c394">nr</a>, <a class="el" href="structgmx__ana__selection__t.html">gmx_ana_selection_t</a> *sel[], <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that does the analysis for a single frame.  <a href="#a953a63d0349d2c760edc9a9b53df0166"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f">gmx_template</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that implements the analysis tool.  <a href="#aa4770cc00bd64e5a491b5a6baacabc6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="template_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function.  <a href="#a0ddf1224851353fc92bfbff6f499fa97"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Template code for writing analysis programs. </p>
<p>The full source code for the file: <a class="el" href="template_8c-example.html">template.c</a></p>
<h2><a class="anchor" id="global"></a>
Global definitions</h2>
<p>We start by including some generic Gromacs headers <div class="fragment"><pre class="fragment"></pre></div> and continue by including headers for the analysis library: <div class="fragment"><pre class="fragment"></pre></div> Here, we include just nbsearch.h that contains routines for performing neighborhood searches for a set of positions. Possibile additional header files include displacement.h and histogram.h; see the documentation of user header files.</p>
<p>We then define a structure that holds data required during the analysis in <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a>: <div class="fragment"><pre class="fragment"></pre></div></p>
<h2><a class="anchor" id="analysis"></a>
Frame analysis function</h2>
<p>We're now ready to define the function that (in most analysis codes) does the main part of the work: <div class="fragment"><pre class="fragment"></pre></div> The topology can be accessed through <code>top</code> and the coordinates, box size etc. through <code>fr</code>. <code>pbc</code> can be used for periodic boundary calculations with, e.g., <a class="el" href="include_2pbc_8h.html#a442132e6e6fce9d8f8f5c4e115e6b4d7">pbc_dx()</a>. <code>sel</code> contains the selections defined by the user, containing both the positions and the index groups that have been used to evaluate those. The number of selections is available in <code>nr</code>. The analysis should be written such that does not assume the selections to have constant size. The last parameter <code>data</code> points to our custom data (<a class="el" href="structt__analysisdata.html" title="Template analysis data structure.">t_analysisdata</a>), so we first define a pointer that can be used to access the data: <div class="fragment"><pre class="fragment"></pre></div> Any changes made to the data through <code>d</code> can be accessed in later calls to <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a> as well as in the main function (<a class="el" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f" title="Function that implements the analysis tool.">gmx_template()</a>).</p>
<p>Here, we can do whatever calculations our program requires for a frame. For the template, we first print the time for the current frame: <div class="fragment"><pre class="fragment"></pre></div> Then, we do a simple calculation: <div class="fragment"><pre class="fragment"></pre></div> After all the selections are processed, we print a newline to the output file: <div class="fragment"><pre class="fragment"></pre></div> Finally, we return zero to indicate that all went well. <div class="fragment"><pre class="fragment"></pre></div></p>
<h2><a class="anchor" id="gmx_template"></a>
The main analysis tool</h2>
<p>We then define our main function in the same style as in Gromacs analysis programs. We also provide a help text that can be shown with the <code>-h</code> command-line option: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Next, we define program-specific command-line arguments as in standard Gromacs analysis programs: <div class="fragment"><pre class="fragment"></pre></div> Options for controlling the begin/end/skip of the trajectory are automatically added, as are options for selections. In the template, the second argument is for demonstartion purposes only; it is not actually used.</p>
<p>We also define the command-line options for output files: <div class="fragment"><pre class="fragment"></pre></div> There should be no need to specify standard input files (trajectory, topology, index), because they are automatically added and read in by <a class="el" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83">parse_trjana_args()</a>. If you, however, define these file types with non-standard values, they override the default values in <a class="el" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83">parse_trjana_args()</a>.</p>
<p>We then define some local variables: <div class="fragment"><pre class="fragment"></pre></div> The <code>trj</code> pointer holds internal data required for the library, and can also be used to access topology information during initialization. We also declare a <a class="el" href="structt__analysisdata.html" title="Template analysis data structure.">t_analysisdata</a> structure to hold data required in <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a>, as well as a few variables that will store information about the selection that the user has provided.</p>
<p>The actual code begins next. To follow the style of Gromacs tools, we first print some information about the Gromacs build: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Next, we initialize the <code>trj</code> pointer: <div class="fragment"><pre class="fragment"></pre></div> We can use different flags to specify requirements for the selections and/or other features of the library. See <a class="el" href="share_2template_2gromacs_2trajana_8h.html#analysis_flags">Flags for gmx_ana_traj_create()</a>.</p>
<p>Next, we set some options: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>After initializing <code>trj</code>, we can call <a class="el" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83">parse_trjana_args()</a> to parse command-line arguments and initialise the rest of the <code>trj</code> structure: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>After the call to <a class="el" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83">parse_trjana_args()</a>, all the command-line arguments are available in the variables pointed by the <code>pa</code> array and can be used in initialization.</p>
<p>If you need to initialize the number of analysis groups based on the command-line arguments, you can set <a class="el" href="share_2template_2gromacs_2trajana_8h.html#a1dd40cef81b1be5a2ef2da7841da2b7a">ANA_USER_SELINIT</a> and call <a class="el" href="include_2trajana_8h.html#a25e689bd718e61d642d199a935262edd">gmx_ana_init_selections()</a> separately. Currently, the template does not demonstrate this to keep it as simple as possible.</p>
<p>After these calls, the program should perform any initialization that is required before starting the analysis. This can include allocating memory, precalculating things, preparing output files and so on. Any data that is required in the analysis of a single frame should be put into <code>d</code>. Data related to the selections, topology, and/or the first frame can be accessed through <code>trj</code>; see the functions trajana.h. For the template, we get the selection used as the reference positions and the analysis groups using the following code: <div class="fragment"><pre class="fragment"></pre></div> Notice that the reference selection is not included in the information returned by the last two calls.</p>
<p>For the template, we want to search the neighborhood of positions in the first selection, so we initialize a neighborhood search. This can be achieved with the following code: <div class="fragment"><pre class="fragment"></pre></div> Note that the calculation data is stored in <code>d</code> for it to be accessible in <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a>.</p>
<p>For the template, we also need some memory for calculating the average distance for each index group, so we need to allocate it: <div class="fragment"><pre class="fragment"></pre></div> We also open and prepare an output file for the data that is written out during each frame: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>Now we should be ready to do the actual loop over the frames. This is accomplished by the function call <div class="fragment"><pre class="fragment"></pre></div> This reads in each frame, updates the selections and calls <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a> for each frame. All the initialized data (counters, file pointers, parameters etc.) that is needed by the analysis (<a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a> in this case) should be included in <code>d</code>. Note that only the analysis groups are passed to <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame.">analyze_frame()</a>; the reference groups should be retrieved separately using <a class="el" href="include_2trajana_8h.html#ab54f2b73a4ae57e59954a0fb1ce9288f">gmx_ana_get_refsel()</a>. If this is not desired, one can also specify <a class="el" href="share_2template_2gromacs_2trajana_8h.html#a7ae879f4029c0601ccffc4c266f08b6f">ANA_USE_FULLGRPS</a> to include the reference groups to those passed to the analysis function. Notice that this flag also changes the behavior of <a class="el" href="include_2trajana_8h.html#afc0ea922babbb836e49788bc8c63e49b">gmx_ana_get_anagrps()</a> and <a class="el" href="include_2trajana_8h.html#a5c9404f07f99b1c57de6228397f3bbf5">gmx_ana_get_grpnames()</a>.</p>
<p>Finally, the analysis program probably needs to calculate and write out some values such as averaged properties. The template first closes the output file if one was opened <div class="fragment"><pre class="fragment"></pre></div> and then calculates and prints out the average distances for each analysis group: <div class="fragment"><pre class="fragment"></pre></div></p>
<p>To follow the conventions of Gromacs tools, we finally print a (funny) line <div class="fragment"><pre class="fragment"></pre></div> and return zero to indicate success. <div class="fragment"><pre class="fragment"></pre></div></p>
<h2><a class="anchor" id="main"></a>
Definition of main()</h2>
<p>Now, the only thing remaining is to define the <a class="el" href="TestAtomics_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a> function. It should simply call our <a class="el" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f" title="Function that implements the analysis tool.">gmx_template()</a> function: <div class="fragment"><pre class="fragment"></pre></div> </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a8485f4e81de2537e6a0935626167a775"></a><!-- doxytag: member="template.c::NFILE" ref="a8485f4e81de2537e6a0935626167a775" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="gmx__xpm2ps_8c.html#a8485f4e81de2537e6a0935626167a775">NFILE</a>&#160;&#160;&#160;<a class="el" href="share_2template_2gromacs_2macros_8h.html#a0883345a58f8f63aefa249a4f127f707">asize</a>(fnm)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a953a63d0349d2c760edc9a9b53df0166"></a><!-- doxytag: member="template.c::analyze_frame" ref="a953a63d0349d2c760edc9a9b53df0166" args="(t_topology *top, t_trxframe *fr, t_pbc *pbc, int nr, gmx_ana_selection_t *sel[], void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166">analyze_frame</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt__topology.html">t_topology</a> *&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2types_2trx_8h.html#a206f77137d72a5db1097a457a7144ad5">t_trxframe</a> *&#160;</td>
          <td class="paramname"><em>fr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structt__pbc.html">t_pbc</a> *&#160;</td>
          <td class="paramname"><em>pbc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgmx__ana__selection__t.html">gmx_ana_selection_t</a> *&#160;</td>
          <td class="paramname"><em>sel</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function that does the analysis for a single frame. </p>
<p>It is called once for each frame. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c_a953a63d0349d2c760edc9a9b53df0166_cgraph.png" border="0" usemap="#template_8c_a953a63d0349d2c760edc9a9b53df0166_cgraph" alt=""/></div>
<map name="template_8c_a953a63d0349d2c760edc9a9b53df0166_cgraph" id="template_8c_a953a63d0349d2c760edc9a9b53df0166_cgraph">
<area shape="rect" id="node3" href="include_2nbsearch_8h.html#a692b6fd5e07c1417b5249a6502100867" title="gmx_ana_nbsearch_pos_init" alt="" coords="173,5,360,35"/><area shape="rect" id="node5" href="include_2gmx__fatal_8h.html#a423e6cc9e3e1e76b51c0208d81ce968e" title="gmx_fatal" alt="" coords="228,59,305,88"/><area shape="rect" id="node7" href="include_2nbsearch_8h.html#a18beda8df2a4a7dc6c169e9ea51f0597" title="gmx_ana_nbsearch_pos_mindist" alt="" coords="161,112,372,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c_a953a63d0349d2c760edc9a9b53df0166_icgraph.png" border="0" usemap="#template_8c_a953a63d0349d2c760edc9a9b53df0166_icgraph" alt=""/></div>
<map name="template_8c_a953a63d0349d2c760edc9a9b53df0166_icgraph" id="template_8c_a953a63d0349d2c760edc9a9b53df0166_icgraph">
<area shape="rect" id="node3" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f" title="Function that implements the analysis tool." alt="" coords="160,5,264,35"/><area shape="rect" id="node5" href="template_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="The main function." alt="" coords="312,5,363,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4770cc00bd64e5a491b5a6baacabc6f"></a><!-- doxytag: member="template.c::gmx_template" ref="aa4770cc00bd64e5a491b5a6baacabc6f" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f">gmx_template</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function that implements the analysis tool. </p>
<p>Following the style of Gromacs analysis tools, this function is called <code>gmx_something</code>. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_cgraph.png" border="0" usemap="#template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_cgraph" alt=""/></div>
<map name="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_cgraph" id="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_cgraph">
<area shape="rect" id="node3" href="include_2copyrite_8h.html#a8d86df97658549e3a0d3fc1fc600522f" title="CopyRight" alt="" coords="205,5,288,35"/><area shape="rect" id="node5" href="include_2trajana_8h.html#afc7e80051e814978605f1f690ec41c50" title="gmx_ana_traj_create" alt="" coords="176,59,317,88"/><area shape="rect" id="node7" href="include_2trajana_8h.html#a48d9bfd6ece07a013da56511dd8fd84d" title="gmx_ana_set_nrefgrps" alt="" coords="169,112,324,141"/><area shape="rect" id="node9" href="include_2trajana_8h.html#a5bb970ef3b813752404225cd73fb282b" title="gmx_ana_set_nanagrps" alt="" coords="167,165,327,195"/><area shape="rect" id="node11" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83" title="parse_trjana_args" alt="" coords="184,219,309,248"/><area shape="rect" id="node13" href="include_2trajana_8h.html#ab54f2b73a4ae57e59954a0fb1ce9288f" title="gmx_ana_get_refsel" alt="" coords="177,272,316,301"/><area shape="rect" id="node15" href="include_2trajana_8h.html#a9bed7d54630ee9a5696d3efaf24180c0" title="gmx_ana_get_nanagrps" alt="" coords="167,325,327,355"/><area shape="rect" id="node17" href="include_2trajana_8h.html#afc0ea922babbb836e49788bc8c63e49b" title="gmx_ana_get_anagrps" alt="" coords="171,379,323,408"/><area shape="rect" id="node19" href="include_2nbsearch_8h.html#a8f3c442d0b5cc3f0cf00d0178fe86b69" title="gmx_ana_nbsearch_create" alt="" coords="157,432,336,461"/><area shape="rect" id="node21" href="include_2gmx__fatal_8h.html#a423e6cc9e3e1e76b51c0208d81ce968e" title="gmx_fatal" alt="" coords="452,591,529,620"/><area shape="rect" id="node23" href="include_2filenm_8h.html#ab186af593d4d101e54555197259926d9" title="opt2bSet" alt="" coords="209,536,284,565"/><area shape="rect" id="node25" href="include_2xvgr_8h.html#aa90d00b2a47a31b4d2eb4b1f342cf3ee" title="xvgropen" alt="" coords="209,589,284,619"/><area shape="rect" id="node27" href="include_2filenm_8h.html#a4a680074adb50b505cc610e2cce38abd" title="opt2fn" alt="" coords="217,643,276,672"/><area shape="rect" id="node29" href="include_2trajana_8h.html#ae225401d231a68a3a209827bccc85ce1" title="xvgr_selections" alt="" coords="191,696,303,725"/><area shape="rect" id="node31" href="include_2trajana_8h.html#ad15724eb62ef6be23dd5e7d2d93c8f15" title="gmx_ana_do" alt="" coords="199,749,295,779"/><area shape="rect" id="node33" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame." alt="" coords="193,803,300,832"/><area shape="rect" id="node40" href="include_2futil_8h.html#aee8006e56ae1b43893f4c6b6a1587737" title="ffclose" alt="" coords="216,856,277,885"/><area shape="rect" id="node42" href="include_2copyrite_8h.html#adc539bee66b10b5f7846526e029f91e4" title="thanx" alt="" coords="220,909,273,939"/><area shape="rect" id="node35" href="include_2nbsearch_8h.html#a692b6fd5e07c1417b5249a6502100867" title="gmx_ana_nbsearch_pos_init" alt="" coords="397,776,584,805"/><area shape="rect" id="node38" href="include_2nbsearch_8h.html#a18beda8df2a4a7dc6c169e9ea51f0597" title="gmx_ana_nbsearch_pos_mindist" alt="" coords="385,829,596,859"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_icgraph.png" border="0" usemap="#template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_icgraph" alt=""/></div>
<map name="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_icgraph" id="template_8c_aa4770cc00bd64e5a491b5a6baacabc6f_icgraph">
<area shape="rect" id="node3" href="template_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="The main function." alt="" coords="157,5,208,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="template.c::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="xpm2ps_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The main function. </p>
<p>In Gromacs, most analysis programs are implemented such that the <code>main</code> function is only a wrapper for a <code>gmx_something</code> function that does all the work, and that convention is also followed here. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="template_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#template_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="template_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="template_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" id="node3" href="template_8c.html#aa4770cc00bd64e5a491b5a6baacabc6f" title="Function that implements the analysis tool." alt="" coords="104,459,208,488"/><area shape="rect" id="node5" href="include_2copyrite_8h.html#a8d86df97658549e3a0d3fc1fc600522f" title="CopyRight" alt="" coords="304,5,387,35"/><area shape="rect" id="node7" href="include_2trajana_8h.html#afc7e80051e814978605f1f690ec41c50" title="gmx_ana_traj_create" alt="" coords="275,59,416,88"/><area shape="rect" id="node9" href="include_2trajana_8h.html#a48d9bfd6ece07a013da56511dd8fd84d" title="gmx_ana_set_nrefgrps" alt="" coords="268,112,423,141"/><area shape="rect" id="node11" href="include_2trajana_8h.html#a5bb970ef3b813752404225cd73fb282b" title="gmx_ana_set_nanagrps" alt="" coords="265,165,425,195"/><area shape="rect" id="node13" href="include_2trajana_8h.html#ac660e74f8923b12c5070632bb39a3e83" title="parse_trjana_args" alt="" coords="283,219,408,248"/><area shape="rect" id="node15" href="include_2trajana_8h.html#ab54f2b73a4ae57e59954a0fb1ce9288f" title="gmx_ana_get_refsel" alt="" coords="276,272,415,301"/><area shape="rect" id="node17" href="include_2trajana_8h.html#a9bed7d54630ee9a5696d3efaf24180c0" title="gmx_ana_get_nanagrps" alt="" coords="265,325,425,355"/><area shape="rect" id="node19" href="include_2trajana_8h.html#afc0ea922babbb836e49788bc8c63e49b" title="gmx_ana_get_anagrps" alt="" coords="269,379,421,408"/><area shape="rect" id="node21" href="include_2nbsearch_8h.html#a8f3c442d0b5cc3f0cf00d0178fe86b69" title="gmx_ana_nbsearch_create" alt="" coords="256,432,435,461"/><area shape="rect" id="node23" href="include_2gmx__fatal_8h.html#a423e6cc9e3e1e76b51c0208d81ce968e" title="gmx_fatal" alt="" coords="551,591,628,620"/><area shape="rect" id="node25" href="include_2filenm_8h.html#ab186af593d4d101e54555197259926d9" title="opt2bSet" alt="" coords="308,536,383,565"/><area shape="rect" id="node27" href="include_2xvgr_8h.html#aa90d00b2a47a31b4d2eb4b1f342cf3ee" title="xvgropen" alt="" coords="308,589,383,619"/><area shape="rect" id="node29" href="include_2filenm_8h.html#a4a680074adb50b505cc610e2cce38abd" title="opt2fn" alt="" coords="316,643,375,672"/><area shape="rect" id="node31" href="include_2trajana_8h.html#ae225401d231a68a3a209827bccc85ce1" title="xvgr_selections" alt="" coords="289,696,401,725"/><area shape="rect" id="node33" href="include_2trajana_8h.html#ad15724eb62ef6be23dd5e7d2d93c8f15" title="gmx_ana_do" alt="" coords="297,749,393,779"/><area shape="rect" id="node35" href="template_8c.html#a953a63d0349d2c760edc9a9b53df0166" title="Function that does the analysis for a single frame." alt="" coords="292,803,399,832"/><area shape="rect" id="node42" href="include_2futil_8h.html#aee8006e56ae1b43893f4c6b6a1587737" title="ffclose" alt="" coords="315,856,376,885"/><area shape="rect" id="node44" href="include_2copyrite_8h.html#adc539bee66b10b5f7846526e029f91e4" title="thanx" alt="" coords="319,909,372,939"/><area shape="rect" id="node37" href="include_2nbsearch_8h.html#a692b6fd5e07c1417b5249a6502100867" title="gmx_ana_nbsearch_pos_init" alt="" coords="496,776,683,805"/><area shape="rect" id="node40" href="include_2nbsearch_8h.html#a18beda8df2a4a7dc6c169e9ea51f0597" title="gmx_ana_nbsearch_pos_mindist" alt="" coords="484,829,695,859"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 20 2014 17:22:26 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
