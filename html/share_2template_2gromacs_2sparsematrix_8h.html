<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: share/template/gromacs/sparsematrix.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">share/template/gromacs/sparsematrix.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="share_2template_2gromacs_2visibility_8h_source.html">visibility.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="share_2template_2gromacs_2typedefs_8h_source.html">typedefs.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="share_2template_2gromacs_2types_2simple_8h_source.html">types/simple.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sparsematrix.h:</div>
<div class="dyncontent">
<div class="center"><img src="share_2template_2gromacs_2sparsematrix_8h__incl.png" border="0" usemap="#share_2template_2gromacs_2sparsematrix_8h" alt=""/></div>
<map name="share_2template_2gromacs_2sparsematrix_8h" id="share_2template_2gromacs_2sparsematrix_8h">
<area shape="rect" id="node3" href="share_2template_2gromacs_2visibility_8h.html" title="visibility.h" alt="" coords="16,392,96,421"/><area shape="rect" id="node5" href="share_2template_2gromacs_2typedefs_8h.html" title="typedefs.h" alt="" coords="1715,83,1797,112"/><area shape="rect" id="node30" href="share_2template_2gromacs_2types_2simple_8h.html" title="types/simple.h" alt="" coords="1445,392,1552,421"/><area shape="rect" id="node10" href="share_2template_2gromacs_2sysstuff_8h.html" title="sysstuff.h" alt="" coords="275,315,355,344"/><area shape="rect" id="node33" href="share_2template_2gromacs_2types_2enums_8h.html" title="types/enums.h" alt="" coords="1459,160,1565,189"/><area shape="rect" id="node35" href="share_2template_2gromacs_2types_2block_8h.html" title="types/block.h" alt="" coords="1587,237,1685,267"/><area shape="rect" id="node37" href="share_2template_2gromacs_2types_2idef_8h.html" title="idef.h" alt="" coords="1609,315,1663,344"/><area shape="rect" id="node40" href="share_2template_2gromacs_2types_2symtab_8h.html" title="types/symtab.h" alt="" coords="1307,237,1419,267"/><area shape="rect" id="node43" href="share_2template_2gromacs_2types_2atoms_8h.html" title="types/atoms.h" alt="" coords="1179,237,1283,267"/><area shape="rect" id="node46" href="share_2template_2gromacs_2types_2trx_8h.html" title="types/trx.h" alt="" coords="1109,160,1192,189"/><area shape="rect" id="node49" href="share_2template_2gromacs_2types_2topology_8h.html" title="types/topology.h" alt="" coords="1267,160,1384,189"/><area shape="rect" id="node56" href="share_2template_2gromacs_2types_2energy_8h.html" title="types/energy.h" alt="" coords="2169,315,2276,344"/><area shape="rect" id="node59" href="share_2template_2gromacs_2types_2inputrec_8h.html" title="types/inputrec.h" alt="" coords="301,237,416,267"/><area shape="rect" id="node63" href="share_2template_2gromacs_2types_2ishift_8h.html" title="types/ishift.h" alt="" coords="1589,160,1685,189"/><area shape="rect" id="node65" href="share_2template_2gromacs_2types_2graph_8h.html" title="types/graph.h" alt="" coords="2381,237,2483,267"/><area shape="rect" id="node68" href="share_2template_2gromacs_2types_2nrnb_8h.html" title="types/nrnb.h" alt="" coords="1709,160,1803,189"/><area shape="rect" id="node70" href="share_2template_2gromacs_2types_2nblist_8h.html" title="types/nblist.h" alt="" coords="1184,315,1283,344"/><area shape="rect" id="node72" href="share_2template_2gromacs_2types_2nbnxn__pairlist_8h.html" title="types/nbnxn_pairlist.h" alt="" coords="896,315,1045,344"/><area shape="rect" id="node74" href="share_2template_2gromacs_2types_2nsgrid_8h.html" title="types/nsgrid.h" alt="" coords="1307,315,1411,344"/><area shape="rect" id="node77" href="share_2template_2gromacs_2types_2forcerec_8h.html" title="types/forcerec.h" alt="" coords="749,160,864,189"/><area shape="rect" id="node105" href="share_2template_2gromacs_2types_2fcdata_8h.html" title="types/fcdata.h" alt="" coords="2511,237,2615,267"/><area shape="rect" id="node107" href="share_2template_2gromacs_2types_2mdatom_8h.html" title="types/mdatom.h" alt="" coords="1760,237,1875,267"/><area shape="rect" id="node110" href="share_2template_2gromacs_2types_2pbc_8h.html" title="types/pbc.h" alt="" coords="2707,237,2797,267"/><area shape="rect" id="node113" href="share_2template_2gromacs_2types_2ifunc_8h.html" title="types/ifunc.h" alt="" coords="2384,160,2480,189"/><area shape="rect" id="node121" href="share_2template_2gromacs_2types_2filenm_8h.html" title="types/filenm.h" alt="" coords="1827,160,1931,189"/><area shape="rect" id="node123" href="share_2template_2gromacs_2types_2group_8h.html" title="types/group.h" alt="" coords="379,315,480,344"/><area shape="rect" id="node126" href="share_2template_2gromacs_2types_2state_8h.html" title="types/state.h" alt="" coords="2407,315,2505,344"/><area shape="rect" id="node129" href="share_2template_2gromacs_2types_2shellfc_8h.html" title="types/shellfc.h" alt="" coords="1955,160,2061,189"/><area shape="rect" id="node131" href="share_2template_2gromacs_2types_2constr_8h.html" title="types/constr.h" alt="" coords="2085,160,2189,189"/><area shape="rect" id="node133" href="share_2template_2gromacs_2types_2matrix_8h.html" title="types/matrix.h" alt="" coords="2923,237,3027,267"/><area shape="rect" id="node136" href="share_2template_2gromacs_2types_2oenv_8h.html" title="types/oenv.h" alt="" coords="2213,160,2309,189"/><area shape="rect" id="node20" href="share_2template_2gromacs_2gmx__header__config_8h.html" title="gmx_header_config.h" alt="" coords="792,392,939,421"/><area shape="rect" id="node22" href="share_2template_2gromacs_2version_8h.html" title="version.h" alt="" coords="256,392,331,421"/><area shape="rect" id="node79" href="share_2template_2gromacs_2types_2ns_8h.html" title="ns.h" alt="" coords="957,237,1003,267"/><area shape="rect" id="node83" href="share_2template_2gromacs_2types_2genborn_8h.html" title="genborn.h" alt="" coords="555,315,632,344"/><area shape="rect" id="node86" href="share_2template_2gromacs_2types_2qmmmrec_8h.html" title="qmmmrec.h" alt="" coords="1069,315,1160,344"/><area shape="rect" id="node90" href="share_2template_2gromacs_2types_2nb__verlet_8h.html" title="nb_verlet.h" alt="" coords="747,237,832,267"/><area shape="rect" id="node95" href="share_2template_2gromacs_2types_2interaction__const_8h.html" title="interaction_const.h" alt="" coords="592,237,723,267"/><area shape="rect" id="node97" href="share_2template_2gromacs_2types_2hw__info_8h.html" title="hw_info.h" alt="" coords="491,237,568,267"/><area shape="rect" id="node93" href="share_2template_2gromacs_2types_2nbnxn__cuda__types__ext_8h.html" title="nbnxn_cuda_types_ext.h" alt="" coords="707,315,872,344"/><area shape="rect" id="node101" href="share_2template_2gromacs_2gmx__cpuid_8h.html" title="../gmx_cpuid.h" alt="" coords="144,315,251,344"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="share_2template_2gromacs_2sparsematrix_8h__dep__incl.png" border="0" usemap="#share_2template_2gromacs_2sparsematrix_8hdep" alt=""/></div>
<map name="share_2template_2gromacs_2sparsematrix_8hdep" id="share_2template_2gromacs_2sparsematrix_8hdep">
<area shape="rect" id="node3" href="share_2template_2gromacs_2mtxio_8h.html" title="share/template/gromacs/mtxio.h" alt="" coords="280,83,488,112"/><area shape="rect" id="node7" href="gmxdump_8c.html" title="src/kernel/gmxdump.c" alt="" coords="5,160,155,189"/><area shape="rect" id="node9" href="minimize_8c.html" title="src/mdlib/minimize.c" alt="" coords="331,160,472,189"/><area shape="rect" id="node11" href="gmx__nmeig_8c.html" title="src/tools/gmx_nmeig.c" alt="" coords="496,160,651,189"/><area shape="rect" id="node13" href="sparsematrix_8c.html" title="src/gmxlib/sparsematrix.c" alt="" coords="851,83,1021,112"/><area shape="rect" id="node17" href="eigensolver_8c.html" title="src/tools/eigensolver.c" alt="" coords="675,160,827,189"/><area shape="rect" id="node19" href="eigensolver_8h.html" title="src/tools/eigensolver.h" alt="" coords="675,83,827,112"/><area shape="rect" id="node5" href="mtxio_8c.html" title="src/gmxlib/mtxio.c" alt="" coords="179,160,307,189"/><area shape="rect" id="node22" href="gmx__cluster_8c.html" title="src/tools/gmx_cluster.c" alt="" coords="851,160,1008,189"/><area shape="rect" id="node24" href="gmx__covar_8c.html" title="src/tools/gmx_covar.c" alt="" coords="1032,160,1181,189"/><area shape="rect" id="node27" href="gmx__rmsf_8c.html" title="src/tools/gmx_rmsf.c" alt="" coords="1205,160,1349,189"/></map>
</div>
</div>
<p><a href="share_2template_2gromacs_2sparsematrix_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix__entry.html">gmx_sparsematrix_entry</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparse matrix storage format.  <a href="structgmx__sparsematrix__entry.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgmx__sparsematrix.html">gmx_sparsematrix</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structgmx__sparsematrix__entry.html">gmx_sparsematrix_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#a54641be08c4a38f8e92681954751ae7b">gmx_sparsematrix_entry_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparse matrix storage format.  <a href="#a54641be08c4a38f8e92681954751ae7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structgmx__sparsematrix.html">gmx_sparsematrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <br class="typebreak"/>
<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#a55ab15e57dcd5cf935ac18213dfc5800">gmx_sparsematrix_init</a> (int nrow)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#accb01332c2f8a220117c3ef93cf072c5">gmx_sparsematrix_destroy</a> (<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all resources used by a sparse matrix structure.  <a href="#accb01332c2f8a220117c3ef93cf072c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#ab5fd625fd699ce3c53d8fbc259d21316">gmx_sparsematrix_print</a> (FILE *stream, <a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print sparse matrix to a stream.  <a href="#ab5fd625fd699ce3c53d8fbc259d21316"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#ae2eadd66cbe6d28c7458dda42744161d">gmx_sparsematrix_value</a> (<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>, int row, int col)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#acd12a6bcce648aef0432978e24b22c00">gmx_sparsematrix_increment_value</a> (<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>, int row, int col, real difference)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#ac3c58041a48f0f821ef71da0d6fbe0fd">gmx_sparsematrix_compress</a> (<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort elements in each column and remove zeros.  <a href="#ac3c58041a48f0f821ef71da0d6fbe0fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="share_2template_2gromacs_2sparsematrix_8h.html#a8d5139fb5857c790f01aff487f736486">gmx_sparsematrix_vector_multiply</a> (<a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *<a class="el" href="shift__util_8c.html#aacaa5b9630e45bd7f464005e7eb9ce14">A</a>, real *<a class="el" href="share_2template_2gromacs_2gmx__lapack_8h.html#a36b8fb392443aff4dd09ac968a2acfe8">x</a>, real *<a class="el" href="share_2template_2gromacs_2gmx__lapack_8h.html#ad992d70ec70c927046cfc2ab1c79b188">y</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparse matrix vector multiplication.  <a href="#a8d5139fb5857c790f01aff487f736486"></a><br/></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a54641be08c4a38f8e92681954751ae7b"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_entry_t" ref="a54641be08c4a38f8e92681954751ae7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structgmx__sparsematrix__entry.html">gmx_sparsematrix_entry</a>  <a class="el" href="include_2sparsematrix_8h.html#a54641be08c4a38f8e92681954751ae7b">gmx_sparsematrix_entry_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sparse matrix storage format. </p>
<p>This structure specifies a storage format for a sparse matrix. The memory requirements are only proportional to the number of nonzero elements, and it provides a reasonably fast way to perform matrix-vector multiplications.</p>
<p>The data format is very similar to a neighborlist. It is optimized for fast access, but it is difficult to add entries. If you are constructing a matrix you should either do it in exactly the order specified here, or use some other more flexible intermediate structure.</p>
<p>The index array is of size nrow+1. All non-zero matrix elements on row i are stored in positions index[i] through index[i+1]-1 in the arrays column and value. The column array contains the column index for each entry, in ascending order, and the corresponding position in the value array contains the floating point matrix element.</p>
<p>index[nrow] should be equal to the total number of elements stored.</p>
<p>Thus, to find the value of matrix element [5,4] you should loop over positions index[5] to index[6]-1 in column until you either find the value 4, or a higher value (meaning the element was zero).</p>
<p>It is fairly easy to construct the matrix on-the-fly if you can do it row-by-row.</p>
<p>IMPORTANT: If compressed_symmetric is set to TRUE, you should only store EITHER the upper OR lower triangle (and the diagonal), and the other half is assumed to be symmetric. Otherwise, if compressed_symmetric==FALSE, no symmetry is implied and all elements should be stored.</p>
<p>The symmetry compression saves us a factor 2 both in storage and matrix multiplication CPU-time, which can be very useful for huge eigenproblems.</p>
<p>If you are unsure, just set compressed_symmetric to FALSE and list all elements. If you enable it but still list all elements (both upper and lower triangle) you will be sorry...</p>
<p>Internally, the sparse data is stored as a separate list for each row, where the list element is a structure with a column and (floating-point) data value. This makes it possible, although not completely transparent, to update values in random access order. The drawback is that the structure will allocate nrow memory regions. The matrix data could be stored in a single contiguous array with indices for each row, but then we could only insert elements at the end without copying the entire matrix.</p>
<p>After you have</p>
<p>In other words: Not perfect, but it works. </p>

</div>
</div>
<a class="anchor" id="acc946265e6f9b5b25ab54aeed0aa7c1b"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_t" ref="acc946265e6f9b5b25ab54aeed0aa7c1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structgmx__sparsematrix.html">gmx_sparsematrix</a>
 <a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac3c58041a48f0f821ef71da0d6fbe0fd"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_compress" ref="ac3c58041a48f0f821ef71da0d6fbe0fd" args="(gmx_sparsematrix_t *A)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> <a class="el" href="sparsematrix_8c.html#ac3c58041a48f0f821ef71da0d6fbe0fd">gmx_sparsematrix_compress</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sort elements in each column and remove zeros. </p>
<p>Sparse matrix access is faster when the elements are stored in increasing column order in each row. In some cases previously non-zero elements will be zero after adding more data, and this routine also removes those entries to reduce the storage requirements.</p>
<p>It never hurts to run this routine if you have been updating the matrix... </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="share_2template_2gromacs_2sparsematrix_8h_ac3c58041a48f0f821ef71da0d6fbe0fd_cgraph.png" border="0" usemap="#share_2template_2gromacs_2sparsematrix_8h_ac3c58041a48f0f821ef71da0d6fbe0fd_cgraph" alt=""/></div>
<map name="share_2template_2gromacs_2sparsematrix_8h_ac3c58041a48f0f821ef71da0d6fbe0fd_cgraph" id="share_2template_2gromacs_2sparsematrix_8h_ac3c58041a48f0f821ef71da0d6fbe0fd_cgraph">
<area shape="rect" id="node3" href="sparsematrix_8c.html#ae00bf4b167df615c90fe26cd1a243453" title="compare_columns" alt="" coords="248,5,376,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="accb01332c2f8a220117c3ef93cf072c5"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_destroy" ref="accb01332c2f8a220117c3ef93cf072c5" args="(gmx_sparsematrix_t *A)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> <a class="el" href="sparsematrix_8c.html#ae1265238816409b751cd8b7b27068e48">gmx_sparsematrix_destroy</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release all resources used by a sparse matrix structure. </p>
<p>All arrays in the structure will be freed, and the structure itself. </p>

</div>
</div>
<a class="anchor" id="acd12a6bcce648aef0432978e24b22c00"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_increment_value" ref="acd12a6bcce648aef0432978e24b22c00" args="(gmx_sparsematrix_t *A, int row, int col, real difference)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> <a class="el" href="sparsematrix_8c.html#a443eb04e01bb112388aba20923fe5005">gmx_sparsematrix_increment_value</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real&#160;</td>
          <td class="paramname"><em>difference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a55ab15e57dcd5cf935ac18213dfc5800"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_init" ref="a55ab15e57dcd5cf935ac18213dfc5800" args="(int nrow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a>* <a class="el" href="sparsematrix_8c.html#ab4a490b4c350dbbad29fa9c1e9303e3e">gmx_sparsematrix_init</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrow</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a new sparse matrix structure</p>
<p>The number of rows is used to allocate the index array entry. Obviously you can reallocate these later yourself if necessary - this is a convenience routine.</p>
<p>By default, the compressed_symmetric flag in the structure will be FALSE. Set it to TRUE manually if you are only storing either the upper or lower half of the matrix. </p>

</div>
</div>
<a class="anchor" id="ab5fd625fd699ce3c53d8fbc259d21316"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_print" ref="ab5fd625fd699ce3c53d8fbc259d21316" args="(FILE *stream, gmx_sparsematrix_t *A)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> <a class="el" href="sparsematrix_8c.html#ab5fd625fd699ce3c53d8fbc259d21316">gmx_sparsematrix_print</a> </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print sparse matrix to a stream. </p>
<p>Mainly used for debugging. Be warned that the real sparse matrices used in Gromacs runs can be HUGE (think 100,000 rows). </p>

</div>
</div>
<a class="anchor" id="ae2eadd66cbe6d28c7458dda42744161d"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_value" ref="ae2eadd66cbe6d28c7458dda42744161d" args="(gmx_sparsematrix_t *A, int row, int col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real <a class="el" href="sparsematrix_8c.html#ae2eadd66cbe6d28c7458dda42744161d">gmx_sparsematrix_value</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8d5139fb5857c790f01aff487f736486"></a><!-- doxytag: member="sparsematrix.h::gmx_sparsematrix_vector_multiply" ref="a8d5139fb5857c790f01aff487f736486" args="(gmx_sparsematrix_t *A, real *x, real *y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="share_2template_2gromacs_2visibility_8h.html#af6d678ccc5288db95c70b9d9003f11e2">GMX_LIBGMX_EXPORT</a> <a class="el" href="nbnxn__kernel__simd__4xn__outer_8h.html#a8dc3f4a797ed992dff49d2fa3477eee8">void</a> <a class="el" href="sparsematrix_8c.html#ae3d30c00f680e4e669708d249ce9376f">gmx_sparsematrix_vector_multiply</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2sparsematrix_8h.html#acc946265e6f9b5b25ab54aeed0aa7c1b">gmx_sparsematrix_t</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real *&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sparse matrix vector multiplication. </p>
<p>Calculate y = A * x for a sparse matrix A. </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 20 2014 17:22:24 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
