\hypertarget{once_8c}{\section{src/gmxlib/thread\-\_\-mpi/once.c \-File \-Reference}
\label{once_8c}\index{src/gmxlib/thread\-\_\-mpi/once.\-c@{src/gmxlib/thread\-\_\-mpi/once.\-c}}
}
{\ttfamily \#include $<$errno.\-h$>$}\*
{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include $<$stdarg.\-h$>$}\*
{\ttfamily \#include $<$string.\-h$>$}\*
{\ttfamily \#include \char`\"{}impl.\-h\char`\"{}}\*
\-Include dependency graph for once.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{once_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{once_8c_a89d01d302a3586f1d687463405261ec9}{t\-M\-P\-I\-\_\-\-Once} (\hyperlink{include_2thread__mpi_2tmpi_8h_ab76dc275b882a1d00a54353fb8dd4cb3}{t\-M\-P\-I\-\_\-\-Comm} comm, \hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void}($\ast$function)(\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$), \hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$param, int $\ast$was\-\_\-first)
\item 
\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$ \hyperlink{once_8c_a6ca1ab68778c3066ac18d2a7fadfc199}{t\-M\-P\-I\-\_\-\-Once\-\_\-wait} (\hyperlink{include_2thread__mpi_2tmpi_8h_ab76dc275b882a1d00a54353fb8dd4cb3}{t\-M\-P\-I\-\_\-\-Comm} comm, \hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$($\ast$function)(\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$), \hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$param, int $\ast$was\-\_\-first)
\item 
static \hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$ \hyperlink{once_8c_ac2950a9ff58545e8004ee7c01598e696}{t\-M\-P\-I\-\_\-\-Shmallocator} (\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$prm)
\item 
\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} $\ast$ \hyperlink{once_8c_a1d232dfbef3bb42d6df3ab6e5d06ee3d}{t\-M\-P\-I\-\_\-\-Shmalloc} (\hyperlink{include_2thread__mpi_2tmpi_8h_ab76dc275b882a1d00a54353fb8dd4cb3}{t\-M\-P\-I\-\_\-\-Comm} comm, size\-\_\-t size)
\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{once_8c_a89d01d302a3586f1d687463405261ec9}{\index{once.\-c@{once.\-c}!t\-M\-P\-I\-\_\-\-Once@{t\-M\-P\-I\-\_\-\-Once}}
\index{t\-M\-P\-I\-\_\-\-Once@{t\-M\-P\-I\-\_\-\-Once}!once.c@{once.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Once}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf t\-M\-P\-I\-\_\-\-Once} (
\begin{DoxyParamCaption}
\item[{{\bf t\-M\-P\-I\-\_\-\-Comm}}]{comm, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$)}]{function, }
\item[{{\bf void} $\ast$}]{param, }
\item[{int $\ast$}]{was\-\_\-first}
\end{DoxyParamCaption}
)}}\label{once_8c_a89d01d302a3586f1d687463405261ec9}
\-Execute function once over comm

\-Executes a given function only once per collective call over comm.

\-Collective function.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em function} & the function to call \\
\hline
\mbox{\tt in}  & {\em param} & the parameter to the function \\
\hline
\mbox{\tt out}  & {\em was\-\_\-first} & set to 1 if the current thread was the one to execute the function. unchanged if current thread was not the one to execute the function; ignored if \-N\-U\-L\-L. \\
\hline
\mbox{\tt in}  & {\em comm} & \-The communicator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-M\-P\-I\-\_\-\-S\-U\-C\-C\-E\-S\-S on success. 
\end{DoxyReturn}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{once_8c_a89d01d302a3586f1d687463405261ec9_cgraph}
\end{center}
\end{figure}


\hypertarget{once_8c_a6ca1ab68778c3066ac18d2a7fadfc199}{\index{once.\-c@{once.\-c}!t\-M\-P\-I\-\_\-\-Once\-\_\-wait@{t\-M\-P\-I\-\_\-\-Once\-\_\-wait}}
\index{t\-M\-P\-I\-\_\-\-Once\-\_\-wait@{t\-M\-P\-I\-\_\-\-Once\-\_\-wait}!once.c@{once.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Once\-\_\-wait}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ {\bf t\-M\-P\-I\-\_\-\-Once\-\_\-wait} (
\begin{DoxyParamCaption}
\item[{{\bf t\-M\-P\-I\-\_\-\-Comm}}]{comm, }
\item[{{\bf void} $\ast$($\ast$)({\bf void} $\ast$)}]{function, }
\item[{{\bf void} $\ast$}]{param, }
\item[{int $\ast$}]{was\-\_\-first}
\end{DoxyParamCaption}
)}}\label{once_8c_a6ca1ab68778c3066ac18d2a7fadfc199}
\-Execute function once over comm, and wait for the function to return its value.

\-Executes a given function only once per collective call over comm.

\-Collective function.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em function} & the function to call \\
\hline
\mbox{\tt in}  & {\em param} & the parameter to the function \\
\hline
\mbox{\tt out}  & {\em was\-\_\-first} & set to 1 if the current thread was the one to execute the function. unchanged if current thread was not the one to execute the function; ignored if \-N\-U\-L\-L. \\
\hline
\mbox{\tt in}  & {\em comm} & \-The communicator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
the return value of the function 
\end{DoxyReturn}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{once_8c_a6ca1ab68778c3066ac18d2a7fadfc199_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{once_8c_a6ca1ab68778c3066ac18d2a7fadfc199_icgraph}
\end{center}
\end{figure}


\hypertarget{once_8c_a1d232dfbef3bb42d6df3ab6e5d06ee3d}{\index{once.\-c@{once.\-c}!t\-M\-P\-I\-\_\-\-Shmalloc@{t\-M\-P\-I\-\_\-\-Shmalloc}}
\index{t\-M\-P\-I\-\_\-\-Shmalloc@{t\-M\-P\-I\-\_\-\-Shmalloc}!once.c@{once.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Shmalloc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ {\bf t\-M\-P\-I\-\_\-\-Shmalloc} (
\begin{DoxyParamCaption}
\item[{{\bf t\-M\-P\-I\-\_\-\-Comm}}]{comm, }
\item[{size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{once_8c_a1d232dfbef3bb42d6df3ab6e5d06ee3d}
\-Allocate a shared block of memory as a collective call.

\-Collective function.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em comm} & \-The communicator \\
\hline
\mbox{\tt in}  & {\em size} & \-The size in bytes to allocate \\
\hline
\end{DoxyParams}


\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{once_8c_a1d232dfbef3bb42d6df3ab6e5d06ee3d_cgraph}
\end{center}
\end{figure}


\hypertarget{once_8c_ac2950a9ff58545e8004ee7c01598e696}{\index{once.\-c@{once.\-c}!t\-M\-P\-I\-\_\-\-Shmallocator@{t\-M\-P\-I\-\_\-\-Shmallocator}}
\index{t\-M\-P\-I\-\_\-\-Shmallocator@{t\-M\-P\-I\-\_\-\-Shmallocator}!once.c@{once.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Shmallocator}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void}$\ast$ {\bf t\-M\-P\-I\-\_\-\-Shmallocator} (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{prm}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{once_8c_ac2950a9ff58545e8004ee7c01598e696}


\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{once_8c_ac2950a9ff58545e8004ee7c01598e696_icgraph}
\end{center}
\end{figure}


