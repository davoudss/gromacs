\hypertarget{barrier_8c}{\section{src/gmxlib/thread\-\_\-mpi/barrier.c \-File \-Reference}
\label{barrier_8c}\index{src/gmxlib/thread\-\_\-mpi/barrier.\-c@{src/gmxlib/thread\-\_\-mpi/barrier.\-c}}
}
{\ttfamily \#include $<$errno.\-h$>$}\*
{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include $<$stdarg.\-h$>$}\*
{\ttfamily \#include $<$string.\-h$>$}\*
{\ttfamily \#include \char`\"{}impl.\-h\char`\"{}}\*
\-Include dependency graph for barrier.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{barrier_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{nbnxn__kernel__simd__4xn__outer_8h_a8dc3f4a797ed992dff49d2fa3477eee8}{void} \hyperlink{barrier_8c_a9bdf13b66cebb1dae0ff11c79f035fa8}{t\-M\-P\-I\-\_\-\-Barrier\-\_\-init} (\hyperlink{structtMPI__Barrier__t}{t\-M\-P\-I\-\_\-\-Barrier\-\_\-t} $\ast$barrier, int count)
\item 
int \hyperlink{barrier_8c_a216a5bf52bce7f13bc56c7c02729fd3a}{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait} (\hyperlink{structtMPI__Barrier__t}{t\-M\-P\-I\-\_\-\-Barrier\-\_\-t} $\ast$barrier)
\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{barrier_8c_a9bdf13b66cebb1dae0ff11c79f035fa8}{\index{barrier.\-c@{barrier.\-c}!t\-M\-P\-I\-\_\-\-Barrier\-\_\-init@{t\-M\-P\-I\-\_\-\-Barrier\-\_\-init}}
\index{t\-M\-P\-I\-\_\-\-Barrier\-\_\-init@{t\-M\-P\-I\-\_\-\-Barrier\-\_\-init}!barrier.c@{barrier.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Barrier\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} {\bf t\-M\-P\-I\-\_\-\-Barrier\-\_\-init} (
\begin{DoxyParamCaption}
\item[{{\bf t\-M\-P\-I\-\_\-\-Barrier\-\_\-t} $\ast$}]{barrier, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}}\label{barrier_8c_a9bdf13b66cebb1dae0ff11c79f035fa8}
\-Initialize barrier


\begin{DoxyParams}{\-Parameters}
{\em barrier} & \-Pointer to \-\_\-spinlock\-\_\- barrier. \-Note that this is not the same datatype as the full, thread based, barrier. \\
\hline
{\em count} & \-Number of threads to synchronize. \-All threads will be released after {\itshape count\/} calls to \hyperlink{include_2thread__mpi_2barrier_8h_abe27af61e5ea1b93c21218c10ffb7d15}{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait()}. \\
\hline
\end{DoxyParams}


\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{barrier_8c_a9bdf13b66cebb1dae0ff11c79f035fa8_icgraph}
\end{center}
\end{figure}


\hypertarget{barrier_8c_a216a5bf52bce7f13bc56c7c02729fd3a}{\index{barrier.\-c@{barrier.\-c}!t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait@{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait}}
\index{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait@{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait}!barrier.c@{barrier.\-c}}
\subsubsection[{t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf t\-M\-P\-I\-\_\-\-Barrier\-\_\-wait} (
\begin{DoxyParamCaption}
\item[{{\bf t\-M\-P\-I\-\_\-\-Barrier\-\_\-t} $\ast$}]{barrier}
\end{DoxyParamCaption}
)}}\label{barrier_8c_a216a5bf52bce7f13bc56c7c02729fd3a}
\-Perform yielding, busy-\/waiting barrier synchronization

\-This function blocks until it has been called \-N times, where \-N is the count value the barrier was initialized with. \-After \-N total calls all threads return. \-The barrier automatically cycles, and thus requires another \-N calls to unblock another time.


\begin{DoxyParams}{\-Parameters}
{\em barrier} & \-Pointer to previously created barrier.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-The last thread returns -\/1, all the others 0. 
\end{DoxyReturn}


\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{barrier_8c_a216a5bf52bce7f13bc56c7c02729fd3a_icgraph}
\end{center}
\end{figure}


